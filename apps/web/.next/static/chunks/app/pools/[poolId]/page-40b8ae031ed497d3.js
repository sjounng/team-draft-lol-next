(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1742],{2127:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(413),a=s(5509),n=s(3353),i=s(7950),l=s(8541),c=s.n(l);function o(e){let{poolName:t,poolTag:s,isOwner:a}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h1",{className:"text-4xl font-black gradient-text",children:t}),a&&(0,r.jsx)("span",{className:"badge px-3 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-[var(--accent-purple)] to-[var(--accent-blue)] text-white",children:"Owner"})]}),(0,r.jsxs)("p",{className:"text-[var(--text-secondary)]",children:["#",(0,r.jsx)("span",{className:"font-mono text-[var(--text-secondary)]",children:s})]})]}),(0,r.jsx)(c(),{href:"/dashboard",className:"btn-secondary",children:"← 대시보드"})]})}function d(e){let{poolId:t,isOwner:s,onInviteClick:a,onLeavePool:n}=e;return(0,r.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,r.jsxs)(c(),{href:"/pools/".concat(t,"/teams/create"),className:"btn-primary",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2 inline-block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"팀 생성"]}),(0,r.jsxs)(c(),{href:"/pools/".concat(t,"/matches"),className:"btn-secondary",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2 inline-block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"전적 관리"]}),s&&(0,r.jsxs)("button",{onClick:a,className:"btn-secondary",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2 inline-block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"멤버 초대"]}),!s&&(0,r.jsx)("button",{onClick:n,className:"btn-secondary text-[var(--error)] hover:bg-[var(--error)]/10",children:"Pool 나가기"})]})}function x(e){let{memberCount:t,matchCount:s,isOwner:a,pendingRequestCount:n,onRequestsClick:i}=e;return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[var(--text-muted)] mb-1",children:"총 멤버"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-[var(--text-primary)]",children:t})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-[var(--accent-purple)] to-[var(--accent-blue)] flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[var(--text-muted)] mb-1",children:"전적 개수"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-[var(--text-primary)]",children:s})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-[var(--accent-blue)] to-[var(--accent-cyan)] flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),(0,r.jsx)("button",{onClick:i,className:"card hover:border-[var(--accent-purple)] transition-colors cursor-pointer text-left w-full",disabled:!a,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[var(--text-muted)] mb-1",children:"가입 요청"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-[var(--accent-purple)]",children:a?n:"-"}),a&&n>0&&(0,r.jsx)("span",{className:"text-xs text-[var(--accent-purple)]",children:"새 요청"})]})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-[var(--accent-cyan)] to-[var(--accent-pink)] flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})})]})}var m=s(8787);function h(e){let{members:t,ownerId:s,isOwner:a,onInviteClick:n}=e,i=[...t].sort((e,t)=>t.score-e.score);return 0===t.length?(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-[var(--text-primary)] mb-6",children:"멤버 목록"}),(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,r.jsx)("p",{className:"text-[var(--text-secondary)]",children:"아직 멤버가 없습니다"}),a&&(0,r.jsx)("button",{onClick:n,className:"btn-primary mt-4",children:"멤버 초대하기"})]})]}):(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-[var(--text-primary)] mb-6",children:"멤버 목록"}),(0,r.jsx)("div",{className:"space-y-3",children:i.map((e,t)=>{var a;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg transition-colors ".concat((0,m.D3)(e.score)),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("span",{className:"text-lg font-bold w-6 ".concat(0===t?"rank-1":1===t?"rank-2":2===t?"rank-3":"text-[var(--text-muted)]"),children:["#",t+1]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[var(--accent-purple)] to-[var(--accent-blue)] flex items-center justify-center text-white font-semibold",children:null==(a=e.username[0])?void 0:a.toUpperCase()})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-semibold text-[var(--text-primary)]",children:e.username}),e.id===s&&(0,r.jsx)("span",{className:"badge px-2 py-0.5 text-xs rounded bg-gradient-to-r from-[var(--accent-purple)] to-[var(--accent-blue)] text-white",children:"Owner"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-[var(--text-secondary)] max-w-xl",children:[(0,r.jsx)("div",{className:"min-w-0",children:e.riotId?(0,r.jsxs)("span",{className:"block",children:["라이엇 ID: ",e.riotId,e.riotTag&&(0,r.jsxs)("span",{className:"text-[var(--accent-purple)]",children:["#",e.riotTag]})]}):(0,r.jsx)("span",{className:"text-[var(--text-muted)]",children:"-"})}),(0,r.jsx)("div",{className:"min-w-0",children:e.mainLane?(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.mainLane,e.subLane&&" / ".concat(e.subLane)]}):(0,r.jsx)("span",{className:"text-[var(--text-muted)]",children:"-"})})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-2xl ".concat((0,m.s)(e.score)),children:e.score}),(0,r.jsx)("div",{className:"text-xs text-[var(--text-muted)]",children:"점수"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold ".concat(e.winLossStreak>0?"text-[var(--success)]":e.winLossStreak<0?"text-[var(--error)]":"text-[var(--text-secondary)]"),children:[e.winLossStreak>0?"+":"",e.winLossStreak]}),(0,r.jsx)("div",{className:"text-xs text-[var(--text-muted)]",children:"연승/연패"})]})]})]},e.id)})})]})}function u(e){let{poolId:t,onClose:s}=e,[a,i]=(0,n.useState)(""),[l,c]=(0,n.useState)([]),[o,d]=(0,n.useState)(!1),[x,m]=(0,n.useState)(""),[h,u]=(0,n.useState)(""),v=async()=>{if(a.trim()){d(!0),m("");try{let e=await fetch("/api/users/search?q=".concat(encodeURIComponent(a)));if(e.ok){let t=await e.json();c(t.data)}else m("검색에 실패했습니다.")}catch(e){m("검색 중 오류가 발생했습니다.")}finally{d(!1)}}},p=async e=>{try{let s=await fetch("/api/pools/".concat(t,"/invite"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(s.ok)u("초대를 보냈습니다! 상대방이 수락하면 Pool에 추가됩니다."),c(t=>t.filter(t=>t.id!==e)),m("");else{let e=await s.json();m(e.error||"초대에 실패했습니다."),u("")}}catch(e){m("초대 중 오류가 발생했습니다."),u("")}};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s,children:(0,r.jsxs)("div",{className:"card max-w-2xl w-full",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold gradient-text",children:"멤버 초대"}),(0,r.jsx)("button",{onClick:s,className:"text-[var(--text-muted)] hover:text-[var(--text-primary)]",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x&&(0,r.jsx)("div",{className:"mb-4 px-4 py-3 rounded-lg bg-[var(--error)]/10 border border-[var(--error)]/30 text-[var(--error)] text-sm",children:x}),h&&(0,r.jsx)("div",{className:"mb-4 px-4 py-3 rounded-lg bg-[var(--success)]/10 border border-[var(--success)]/30 text-[var(--success)] text-sm",children:h}),(0,r.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,r.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&v(),placeholder:"사용자명 또는 이메일로 검색...",className:"input flex-1"}),(0,r.jsx)("button",{onClick:v,disabled:o,className:"btn-primary",children:o?(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"검색"})]}),(0,r.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===l.length?(0,r.jsx)("div",{className:"text-center py-8 text-[var(--text-muted)]",children:"검색 결과가 없습니다"}):l.map(e=>{var t;return(0,r.jsxs)("div",{className:"card-hover flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[var(--accent-purple)] to-[var(--accent-blue)] flex items-center justify-center text-white font-semibold",children:null==(t=e.username[0])?void 0:t.toUpperCase()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-[var(--text-primary)]",children:e.username}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:e.email})]})]}),(0,r.jsx)("button",{onClick:()=>p(e.id),className:"btn-primary",children:"초대"})]},e.id)})})]})})}function v(e){let{poolId:t,onClose:s}=e,[a,i]=(0,n.useState)([]),[l,c]=(0,n.useState)(!0),[o,d]=(0,n.useState)("");(0,n.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/pools/".concat(t,"/requests"));if(e.ok){let t=await e.json();i(t.data)}else d("요청을 불러오는데 실패했습니다.")}catch(e){d("요청을 불러오는 중 오류가 발생했습니다.")}finally{c(!1)}},m=async e=>{try{let t=await fetch("/api/invitations/".concat(e,"/accept"),{method:"PUT"});if(t.ok)i(t=>t.filter(t=>t.invitationId!==e)),d("");else{let e=await t.json();d(e.error||"수락에 실패했습니다.")}}catch(e){d("수락 중 오류가 발생했습니다.")}},h=async e=>{try{let t=await fetch("/api/invitations/".concat(e,"/reject"),{method:"PUT"});if(t.ok)i(t=>t.filter(t=>t.invitationId!==e)),d("");else{let e=await t.json();d(e.error||"거절에 실패했습니다.")}}catch(e){d("거절 중 오류가 발생했습니다.")}};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s,children:(0,r.jsxs)("div",{className:"card max-w-3xl w-full",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold gradient-text",children:"가입 요청"}),(0,r.jsx)("button",{onClick:s,className:"text-[var(--text-muted)] hover:text-[var(--text-primary)]",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o&&(0,r.jsx)("div",{className:"mb-4 px-4 py-3 rounded-lg bg-[var(--error)]/10 border border-[var(--error)]/30 text-[var(--error)] text-sm",children:o}),l?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[var(--accent-purple)]"})}):0===a.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-[var(--text-muted)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,r.jsx)("p",{className:"text-[var(--text-secondary)]",children:"대기 중인 가입 요청이 없습니다"})]}):(0,r.jsx)("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:a.map(e=>{var t;return(0,r.jsx)("div",{className:"card-hover",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[var(--accent-purple)] to-[var(--accent-blue)] flex items-center justify-center text-white font-semibold",children:null==(t=e.sender.username[0])?void 0:t.toUpperCase()}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-[var(--text-primary)] mb-1",children:e.sender.username}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-[var(--text-secondary)]",children:[e.sender.riotId&&(0,r.jsxs)("span",{children:[e.sender.riotId,e.sender.riotTag&&(0,r.jsxs)("span",{className:"text-[var(--accent-purple)]",children:["#",e.sender.riotTag]})]}),e.sender.mainLane&&(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.sender.mainLane,e.sender.subLane&&", ".concat(e.sender.subLane)]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"font-semibold gradient-text mr-1",children:e.sender.score}),"점수"]})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>m(e.invitationId),className:"px-4 py-2 rounded-lg bg-[var(--success)] hover:bg-[var(--success)]/80 text-white font-semibold transition-colors",children:"수락"}),(0,r.jsx)("button",{onClick:()=>h(e.invitationId),className:"px-4 py-2 rounded-lg bg-[var(--error)] hover:bg-[var(--error)]/80 text-white font-semibold transition-colors",children:"거절"})]})]})},e.invitationId)})})]})})}function p(){let{user:e,loading:t}=(0,a.A)(),s=(0,i.useRouter)(),l=(0,i.useParams)().poolId,[m,p]=(0,n.useState)(null),[j,f]=(0,n.useState)(!0),[b,N]=(0,n.useState)(""),[w,g]=(0,n.useState)(!1),[k,y]=(0,n.useState)(!1),[L,C]=(0,n.useState)(0),[M,S]=(0,n.useState)(0);(0,n.useEffect)(()=>{t||e||s.push("/login")},[e,t,s]),(0,n.useEffect)(()=>{e&&l&&P()},[e,l]);let P=async()=>{try{let[e,t,s]=await Promise.all([fetch("/api/pools/".concat(l)),fetch("/api/pools/".concat(l,"/requests")),fetch("/api/pools/".concat(l,"/matches/count"))]);if(e.ok){let t=await e.json();p(t.data)}else 403===e.status?N("이 Pool에 접근할 권한이 없습니다."):404===e.status?N("Pool을 찾을 수 없습니다."):N("Pool을 불러오는 중 오류가 발생했습니다.");if(t.ok){let e=await t.json();C(e.data.length)}if(s.ok){let e=await s.json();S(e.data.count)}}catch(e){console.error("Error fetching data:",e),N("Pool을 불러오는 중 오류가 발생했습니다.")}finally{f(!1)}},E=async()=>{if(confirm("정말 이 Pool에서 나가시겠습니까?"))try{(await fetch("/api/pools/".concat(l,"/members/").concat(null==e?void 0:e.id),{method:"DELETE"})).ok?s.push("/dashboard"):alert("Pool 탈퇴에 실패했습니다.")}catch(e){alert("Pool 탈퇴 중 오류가 발생했습니다.")}};if(t||j)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--accent-purple)]"})});if(b||!m)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen px-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-[var(--error)]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-[var(--text-primary)] mb-2",children:b||"Pool을 불러올 수 없습니다"}),(0,r.jsx)(c(),{href:"/dashboard",className:"btn-primary mt-4 inline-block",children:"대시보드로 돌아가기"})]})});let I=m.ownerId===(null==e?void 0:e.id);return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,r.jsx)(o,{poolName:m.name,poolTag:m.tag,isOwner:I}),(0,r.jsx)(d,{poolId:l,isOwner:I,onInviteClick:()=>g(!0),onLeavePool:E}),(0,r.jsx)(x,{memberCount:m.members.length,matchCount:M,isOwner:I,pendingRequestCount:L,onRequestsClick:()=>y(!0)}),(0,r.jsx)(h,{members:m.members,ownerId:m.ownerId,isOwner:I,onInviteClick:()=>g(!0)}),w&&(0,r.jsx)(u,{poolId:l,onClose:()=>g(!1)}),k&&(0,r.jsx)(v,{poolId:l,onClose:()=>{y(!1),P()}})]})}},4594:(e,t,s)=>{Promise.resolve().then(s.bind(s,2127))},5509:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>l});var r=s(413),a=s(3353),n=s(7950);let i=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[s,l]=(0,a.useState)(null),[c,o]=(0,a.useState)(!0),d=(0,n.useRouter)();(0,a.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();l(t.data)}else l(null)}catch(e){console.error("Error fetching user:",e),l(null)}finally{o(!1)}},m=async(e,t)=>{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!s.ok)throw Error((await s.json()).error||"Login failed");l((await s.json()).data.user),d.push("/dashboard")},h=async e=>{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Registration failed");l((await t.json()).data.user),d.push("/dashboard")},u=async()=>{await fetch("/api/auth/logout",{method:"POST"}),l(null),d.push("/login")},v=async()=>{await x()};return(0,r.jsx)(i.Provider,{value:{user:s,loading:c,login:m,register:h,logout:u,refreshUser:v},children:t})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7950:(e,t,s)=>{"use strict";var r=s(3858);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},8787:(e,t,s)=>{"use strict";function r(e){return e>=3e3?"CHALLENGER":e>=2900?"GRANDMASTER":e>=2800?"MASTER":e>=2400?"DIAMOND":e>=2e3?"EMERALD":e>=1600?"PLATINUM":e>=1200?"GOLD":e>=800?"SILVER":e>=400?"BRONZE":"IRON"}function a(e){let t=r(e);return"tier-".concat(t.toLowerCase())}function n(e){switch(r(e)){case"CHALLENGER":return"tier-bg-challenger";case"GRANDMASTER":return"tier-bg-grandmaster";case"MASTER":return"tier-bg-master";case"DIAMOND":return"tier-bg-diamond";default:return"bg-[var(--surface-hover)]"}}s.d(t,{D3:()=>n,s:()=>a})}},e=>{e.O(0,[8541,2613,6299,7358],()=>e(e.s=4594)),_N_E=e.O()}]);