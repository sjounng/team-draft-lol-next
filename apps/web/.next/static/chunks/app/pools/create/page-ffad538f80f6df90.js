(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6355],{2499:(e,t,r)=>{Promise.resolve().then(r.bind(r,3451))},3451:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(413),a=r(3353),n=r(5509),i=r(7950),l=r(8541),o=r.n(l);function c(){let{user:e,loading:t}=(0,n.A)(),r=(0,i.useRouter)(),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t||e||r.push("/login")},[e,t,r]);let x=async e=>{if(e.preventDefault(),u(""),!l.trim())return void u("Pool 이름을 입력해주세요.");m(!0);try{let e=await fetch("/api/pools",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.trim()})});if(e.ok){let t=await e.json();r.push("/pools/".concat(t.data.poolId))}else{let t=await e.json();u(t.error||"Pool 생성에 실패했습니다.")}}catch(e){u("Pool 생성 중 오류가 발생했습니다.")}finally{m(!1)}};return t||!e?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--accent-purple)]"})}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen px-4",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-black mb-3 gradient-text",children:"새 Pool 만들기"}),(0,s.jsx)("p",{className:"text-[var(--text-secondary)]",children:"친구들과 함께 할 Pool을 만들어보세요"})]}),(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[d&&(0,s.jsx)("div",{className:"px-4 py-3 rounded-lg bg-[var(--error)]/10 border border-[var(--error)]/30 text-[var(--error)] text-sm",children:d}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:["Pool 이름 ",(0,s.jsx)("span",{className:"text-[var(--error)]",children:"*"})]}),(0,s.jsx)("input",{id:"name",type:"text",required:!0,value:l,onChange:e=>c(e.target.value),className:"input w-full",placeholder:"예: 친구들 내전, 회사 롤팀, 주말 내전 등",disabled:h,maxLength:50}),(0,s.jsxs)("p",{className:"mt-2 text-xs text-[var(--text-muted)]",children:["최대 50자까지 입력할 수 있습니다. (",l.length,"/50)"]})]}),(0,s.jsx)("div",{className:"px-4 py-3 rounded-lg bg-[var(--accent-blue)]/10 border border-[var(--accent-blue)]/30",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-[var(--accent-blue)] mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{className:"text-sm text-[var(--text-secondary)]",children:[(0,s.jsx)("p",{className:"font-semibold text-[var(--text-primary)] mb-1",children:"Pool이란?"}),(0,s.jsx)("p",{children:"Pool은 함께 게임을 할 친구들의 그룹입니다. Pool을 만들면:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,s.jsx)("li",{children:"멤버들을 초대할 수 있습니다"}),(0,s.jsx)("li",{children:"밸런스 팀을 자동으로 생성할 수 있습니다"}),(0,s.jsx)("li",{children:"게임 전적을 기록하고 관리할 수 있습니다"}),(0,s.jsx)("li",{children:"멤버들의 랭킹을 확인할 수 있습니다"})]})]})]})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{type:"submit",disabled:h||!l.trim(),className:"btn-primary flex-1 flex items-center justify-center",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"생성 중..."]}):"생성하기"}),(0,s.jsx)(o(),{href:"/dashboard",className:"btn-secondary flex items-center justify-center px-8",children:"취소"})]})]})}),(0,s.jsx)("div",{className:"text-center mt-6",children:(0,s.jsx)(o(),{href:"/dashboard",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors",children:"← 대시보드로 돌아가기"})})]})})}},5509:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,AuthProvider:()=>l});var s=r(413),a=r(3353),n=r(7950);let i=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),d=(0,n.useRouter)();(0,a.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();l(t.data)}else l(null)}catch(e){console.error("Error fetching user:",e),l(null)}finally{c(!1)}},h=async(e,t)=>{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)throw Error((await r.json()).error||"Login failed");l((await r.json()).data.user),d.push("/dashboard")},m=async e=>{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Registration failed");l((await t.json()).data.user),d.push("/dashboard")},x=async()=>{await fetch("/api/auth/logout",{method:"POST"}),l(null),d.push("/login")},p=async()=>{await u()};return(0,s.jsx)(i.Provider,{value:{user:r,loading:o,login:h,register:m,logout:x,refreshUser:p},children:t})}function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7950:(e,t,r)=>{"use strict";var s=r(3858);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},e=>{e.O(0,[8541,2613,6299,7358],()=>e(e.s=2499)),_N_E=e.O()}]);